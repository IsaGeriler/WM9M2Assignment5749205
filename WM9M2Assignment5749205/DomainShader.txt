struct HS_CONTROL_POINT_OUTPUT {
	float3 position : POSITION;
};

struct PS_INPUT {
	float4 position : SV_Position;
	float3 worldPos : POSITION;
};

[domain("tri")]
PS_INPUT DS_Main(HS_CONSTANT_DATA_OUTPUT patchConstants, const OutputPatch<HS_CONTROL_POINT_OUTPUT, 3> controlPoints, float3  TessCoord : SV_DomainLocation) {
	PS_INPUT output;
	float3 worldPosition =
	controlPoints[0].position * TessCoord.x +
	controlPoints[1].position * TessCoord.y +
	controlPoints[2].position * TessCoord.z;
	output.worldPos = worldPosition;
	output.position = mul(float4(worldPosition, 1.0f), WVP);
	return output;
}